<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Practice</title>
    <!-- fontawesome kit -->
    <script src="https://kit.fontawesome.com/3a8a85fbc3.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="../assets/boostrap_css/bootstrap.min.css">

    <!-- <link rel="stylesheet" href="../css/practice.css"> -->
    <link rel="stylesheet" href="../css/main.css">

    <!-- bootstrapcss -->
    <link rel="stylesheet" href="../assets/boostrap_css/bootstrap.min.css">

    


</head>
<body class="pt-5">

    <!-- useridentity -->
    <div class="changeInfo__identityUser-details-image">
        <img src="../assets/image/User_2.png" alt="" class="img-fluid">
        <!-- Final Modal start -->

        <!-- Button trigger modal -->
        <button type="button" class="changeInfo__identityUser-details-image-icon" data-bs-toggle="modal" data-bs-target="#exampleModal">
            <i class="fa-solid fa-camera changeInfo__identityUser-details-image-icon-item"></i>
        </button>
  
        <!-- Modal -->
        <div class="modal fade changeInfo__identityUser-details-modal" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true"> -->
            <div class=" modal-dialog modal-dialog-centered">
                <div class="modal-content changeInfo__identityUser-details-modal-mainbody">
                    <div class="modal-header border-0">
                    <h1 class="modal-title changeInfo__identityUser-details-modal-mainbody-title" id="exampleModalLabel">Change Your Picture</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div> 
                    <div class="modal-body changeInfo__identityUser-details-modal-mainbody-item">
                      <div id="app"></div>
                      <input type="file" id="fileInput" multiple name="file" hidden />
                      <div class="uploader changeInfo__identityUser-details-modal-mainbody-item-uploader" id="fileSelect">
                        <div id="content" class="content">
                          <div id="content-action" class="m-auto">
                            <p>
                              Upload Images
                            </p>
                          </div>
                          
                        </div>
                      </div>
                      <div id="oit" class="other-image-thumbnails"></div>

                        <!-- <div id="app"></div>
                        <input type="file" id="fileInput" multiple name="file" hidden />
                        <div class="uploader changeInfo__identityUser-details-modal-mainbody-item-uploader" id="fileSelect">
                        <div id="content" class="content">
                            <div class="m-auto text-center">
                                <i class="fa-solid fa-file-arrow-up changeInfo__identityUser-details-modal-mainbody-item-uploader-icon"></i>
                                <p id="content-action">
                                    Upload Images
                                </p>
                            </div>
                            
                            
                        </div>
                        </div>
                        <div id="oit" class="other-image-thumbnails"></div> -->
                        
                    </div>
                    <div class="modal-footer changeInfo__identityUser-details-modal-mainbody-footer">
                    <button type="button" class="changeInfo__identityUser-details-modal-mainbody-footer-close" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="changeInfo__identityUser-details-modal-mainbody-footer-save">Save</button>
                    </div>
                </div>
            </div>
        </div> 

    </div>
    <!-- Final Modal end -->




    <!-- bs Modal final js -->
    <script src="../assets/boostrap_js/bootstrap.bundle.min.js"></script>
        
    <script>
        const myModal = document.getElementById('myModal')
        const myInput = document.getElementById('myInput')

        myModal.addEventListener('shown.bs.modal', () => {
        myInput.focus()
        })
    </script>


<!-- image uploader js start-->
<script>
    // import "../pages/styles.css";

    const fileInput = document.getElementById("fileInput");
const fileSelect = document.getElementById("fileSelect");

fileSelect.addEventListener("click", e => {
  fileInput.click();
});
fileSelect.addEventListener("dragenter", stopEvent, false);
fileSelect.addEventListener("dragover", stopEvent, false);
fileSelect.addEventListener("drop", drop, false);
fileInput.addEventListener(
  "change",
  e => {
    clearImgList();
    handleFiles(e.target.files);
  },
  false
);

function drop(e) {
  e.stopPropagation();
  e.preventDefault();
  const files = e.dataTransfer.files;
  clearImgList();
  handleFiles(files);
}
function stopEvent(e) {
  e.stopPropagation();
  e.preventDefault();
}
function handleFiles(files) {
  const content = document.getElementById("content");
  const contentAction = document.querySelector("#content-action");
  const nodeToReplace =
    contentAction !== null
      ? contentAction
      : document.querySelector(".uploaded-img");
  if (files.length > 0 && files[0].type.startsWith("image/")) {
    const img = document.createElement("img");
    img.src = window.URL.createObjectURL(files[0]);
    img.classList.add("uploaded-img");
    img.onload = function() {
      window.URL.revokeObjectURL(this.src);
    };
    content.replaceChild(img, nodeToReplace);
  }

  if (files.length > 1) {
    // where oit is other image thumbnails
    const oit = document.querySelector("#oit");
    for (let i = 1; i < files.length; i++) {
      if (files[i].type.startsWith("image/")) {
        const divImg = document.createElement("div");
        divImg.id = "img-list";
        const img = document.createElement("img");
        img.src = window.URL.createObjectURL(files[i]);
        img.classList.add("img-thumb");
        img.onload = function() {
          window.URL.revokeObjectURL(this.src);
        };
        divImg.appendChild(img);
        oit.appendChild(divImg);
      }
    }
  }
}

function clearImgList() {
  const imgList = document.querySelectorAll("#img-list");
  console.log(imgList.length);
  if (imgList.length > 0) {
    imgList.forEach(imgDiv => {
      imgDiv.remove();
    });
  }
}
</script>
<!-- image uploader js end-->
    
</body>
</html>